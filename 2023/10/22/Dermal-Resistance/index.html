<!DOCTYPE html>
<html>
	<head>
		
<title>Dermal Resistance-Blog</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/favicon.ico">

<link rel="stylesheet" href="/css/index.css">


<meta name="keywords" content="blog">
<meta name="description" content="This is xinxin's blog">


<script src="/js/jquery.min.js"></script>


<script src="/js/index.js"></script>


<script src="/js/fancybox.umd.js"></script>


<script src="/js/fancybox-images.js"></script>


<script src="/js/gitalk.min.js"></script>


<script src="/js/hljs.min.js"></script>
 
<script>hljs.highlightAll();</script>

	<meta name="generator" content="Hexo 6.3.0"></head>

	<body>
		
	<div class="header">
		<div class="header-top" id="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/logo.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										HOME
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/about">
										ABOUT
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>Xinxin</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">HOME</a>
        </li>
        
        <li>
            <a href="/about">ABOUT</a>
        </li>
        
    </ul>
    <div class="my_foot">

    </div>
</div>
<div class='shelter'>
</div>
<style>
    .shelter{
        background-color: #333;
        opacity:0.5;
        cursor: pointer;
        display: none; 
        position: fixed;
        left: 0;
        top: 0; 
        right: 0;
        bottom: 0;
        z-index: 1998;
    }
    .sidebar {
        width: 66%;
        height: 100%;
        position: fixed;
        top: 0;
        right: -100%;
        bottom: 0;
        background: #fff;
        z-index: 1999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815);
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $( function () {
	$( '.h-right-close>svg' )
		.click( function () {
			$( '.sidebar' )
				.animate( {
					right: "0"
				}, 500 );
			$( '.shelter' )
				.fadeIn( "slow" )
		} );
	$( '.shelter' )
		.click( function ( e ) {
			$( '.sidebar' )
				.animate( {
					right: "-100%"
				}, 500 );
			$( '.shelter' )
				.fadeOut( "slow" )
		} )
} )

</script>

<div class="post">
    <div class="post-header-background post-header-color"
    style="background: url('')" 
>
    <div class="post-header-background-content">
        <ul class="post-header-tag">
            
        </ul>
        
        <h1>Dermal Resistance</h1>
        <!-- <div class="post-header-info">
            <div class="post-header-info-author">
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                        <g>
                            <path fill="#12183A"
                                d="M6.187 15.265A6.47 6.47 0 0 0 10 16.5a6.47 6.47 0 0 0 3.813-1.235A4.99 4.99 0 0 0 10 13.5a4.99 4.99 0 0 0-3.813 1.765zM5.082 14.25A6.485 6.485 0 0 1 10 12c1.965 0 3.726.872 4.918 2.25a6.5 6.5 0 1 0-9.836 0zM10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z">
                            </path>
                        </g>
                    </svg>
                
                <span class="post-header-info-author-text"> <a href="../../about">Xinxin</a></span>
                <div class="post-header-info-author-categories">
                    
                </div>
                <p>2023-10-22 15:22:41</p>
            </div>
        </div> -->
    </div>
</div>
    <div class="post-content" id="content">
  
  <div id="article" class="post-content-info">
    

    <h2 id="Project-Objective"><a href="#Project-Objective" class="headerlink" title="Project Objective"></a>Project Objective</h2><p>Electrodermal activity (EDA) is the property of the human body that causes continuous variation in the electrical characteristics of the skin.<br>In this project, I design a multi-channel electrodermal measurement system to record electrodermal activities from nine body sites.</p>
<div style = "margin: auto; width: 30%; display: flex; flex-direction: column; text-align: center;"> 
    <img src="/2023/10/22/Dermal-Resistance/EDA_response_pattern.jpg" class="" title="EDA_response_pattern"> 
    <em>Fig. 1 EDA response pattern</em>
</div>

<h2 id="System-Architecture"><a href="#System-Architecture" class="headerlink" title="System Architecture"></a>System Architecture</h2><h4 id="The-wearable-EDA-device-mainly-includes-4-modules"><a href="#The-wearable-EDA-device-mainly-includes-4-modules" class="headerlink" title="The wearable EDA device mainly includes 4 modules:"></a>The wearable EDA device mainly includes 4 modules:</h4><ol>
<li>   MCU module to control the operation flow and transmit BLE signal.</li>
<li>   Power management module to regulate the voltage, control the power consumption and support wired charging.</li>
<li>   Voltage divider resistor measurement circuit which can measure the resistance between 50 kΩ and 500 MΩ.</li>
<li>   Storage module to locally save data.<div style = "margin: auto; width: 90%; display: flex; flex-direction: column; text-align: center;"> 
  <img src="/2023/10/22/Dermal-Resistance/system_architecture.jpg" class="" title="system_architecture"> 
  <em>Fig. 2 System architecture. The green part represents MCU module; The yellow part represents power management module; The blue part represents voltage divider resistor measurement circuit; The red part represents storage module.</em>
</div></li>
</ol>
<h4 id="The-receiving-end-consists-of-a-PC-and-a-nRF52832-board-as-BLE-master-to-simultaneously-receive-multi-BLE-slave-data"><a href="#The-receiving-end-consists-of-a-PC-and-a-nRF52832-board-as-BLE-master-to-simultaneously-receive-multi-BLE-slave-data" class="headerlink" title="The receiving end consists of a PC and a nRF52832 board as BLE master to simultaneously receive multi BLE slave data."></a>The receiving end consists of a PC and a nRF52832 board as BLE master to simultaneously receive multi BLE slave data.</h4><p>The execution flow of the master &amp; slave devices is as follows:<br>1.	Before the experiment, the master BLE connect multi dermal resistance acquisition devices (also called slaves in the following).<br>2.	At the beginning of the experiment, the master BLE get the current timestamp from computer, package it in a starting command and send it to slaves.<br>3.	When the slave receives this command, it start collecting and save the timestamp and dermal resistance data to local SD card. In the collecting process, the slave saves files periodically.<br>4.	At the end of the experiment, the master sent an ending command including current timestamp.<br>5.	When the slave receives this command, it stops collecting data, save the timestamp and close the file.</p>
<div style = "margin: auto; width: 90%; display: flex; flex-direction: column; text-align: center;"> 
    <img src="/2023/10/22/Dermal-Resistance/master_slave.jpg" class="" title="master_slave"> 
    <em>Fig. 3  1 master device receives data from 8 slave devices.</em>
</div>

<h2 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h2><div style = "margin: auto; width: 90%; display: flex; flex-direction: column; text-align: center;"> 
    <img src="/2023/10/22/Dermal-Resistance/PCB_shell_product.jpg" class="" title="PCB_shell_product"> 
    <em>Fig. 4 (a) Dermal resistant acquisition PCB. The device size is 2.6 cm × 4cm; (b) The shell model; (c)A set of encapsulated devices.</em>
</div>

<h2 id="Synchronization-Error-Measurement"><a href="#Synchronization-Error-Measurement" class="headerlink" title="Synchronization Error Measurement"></a>Synchronization Error Measurement</h2><ol>
<li><p><strong>Why need to measure cumulative synchronization error?</strong><br>Except for the initial timestamp being the same, the timestamps of data collected during the process are obtained through the internal timing of the eight devices. Considering the slight variations in crystal oscillators and temperature on each device, we need to measure the synchronization of data acquisition among the eight devices.</p>
</li>
<li><p><strong>Measure Method</strong><br>Connect the detection electrodes of nine slave devices together, and connect the detection terminal to a fixed resistor about every two minutes for a brief moment, continuing this process for one hour. After the experiment, examine the synchronization of responses between different slave devices.</p>
</li>
</ol>
<div style = "margin: auto; width: 60%; display: flex; flex-direction: column; text-align: center;"> 
    <img src="/2023/10/22/Dermal-Resistance/error_measure.jpg" class="" title="error_measure"> 
    <em>Fig. 5 The 9 slave devices's detection electrodes are connected together to measure the synchronization.</em>
</div>

<ol start="3">
<li><strong>Result</strong></li>
</ol>
<ul>
<li><p>The detection took about 1 hour, and data from the same start time to end time was extracted from the recording files on the SD cards of each slave device. The general data is as Fig. 6 (a) shown.</p>
</li>
<li><p>Select three downward spike data and zoom in to observe the errors.</p>
<ul>
<li>30 s after the collection begins: The maximum synchronization error between devices is 66ms, as shown in Fig. 6 (b).</li>
<li>20 min after the collection begins: The maximum synchronization error between devices is 72ms, as shown in Fig. 6 (c).</li>
<li>60 min after the collection begins: The maximum synchronization error between devices is 78ms, as shown in Fig. 6 (d).<div style = "margin: auto; width: 90%; display: flex; flex-direction: column; text-align: center;"> 
  <img src="/2023/10/22/Dermal-Resistance/cumulative_error.jpg" class="" title="cumulative_error"> 
  <em>Fig. 6 (a) Total data in 1 hour, and each downward spike indicates that the detection electrodes are connected to a fixed resistor at this time; (b) Data from 9 devices at the 30 s; (c) Data from 9 devices at the 20 min; (d) Data from 9 devices at the 60 min;</em>
</div></li>
</ul>
</li>
</ul>
<ol start="4">
<li>Summary:</li>
</ol>
<ul>
<li>The cumulative synchronization error is within 80 ms&#x2F;h.</li>
<li>Within a one-hour measurement window, the time sequence of responses from different slave devices to each stimulus remains relatively stable.</li>
<li>With the passage of time, there is a slight increasing trend in the cumulative synchronization error.</li>
</ul>
<h2 id="Relevant-achievement"><a href="#Relevant-achievement" class="headerlink" title="Relevant achievement"></a>Relevant achievement</h2><p>[1] Xinyu Shui, Rongzan Lin, Ziyang Luo, Bingxin Lin, Xinxin Mao, Haojie Li, Ran Liu*, Dan Zhang*. Bodily Electrodermal Representations for Affective Computing. IEEE Transactions on Affective Computing. DOI: 10.1109&#x2F;TAFFC.2023.3315973.</p>
<div style = "margin: auto; width: 50%; display: flex; flex-direction: column; text-align: center;"> 
    <img src="/2023/10/22/Dermal-Resistance/article_figure.jpg" class="" title="article_figure"> 
    <em>Fig. 7 The wearable EDA device featured in our collaborative article, for which I was responsible for the collection system including hardware and software.</em>
</div>
  </div>
  <div id=""></div>
</div>

<script>
  
Fancybox.bind('[data-fancybox="fancybox-gallery-img"]', {
  dragToClose: true,
  Toolbar: true,
  closeButton: "top",
  Image: {
    zoom: true,
  },
  on: {
    initCarousel: (fancybox) => {
      const slide = fancybox.Carousel.slides[fancybox.Carousel.page];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
    "Carousel.change": (fancybox, carousel, to, from) => {
      const slide = carousel.slides[to];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
  },
});
</script>

<style>
    #noneimg img {
        display: none;
        z-index: 9999;
        /* width: 600px !important; */
        min-width: 0%;
        max-width: 90%;
        max-height: 80%;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            max-width: 88%
        }
    }
</style>

    <div class="post-paging">
    
    <a href="/2023/10/22/Remote-Gesture-Controlled-Robotic-Arm/">
        <div class="post-paging-last">
            <span>上一篇</span>
            <p>Remote Gesture-Controlled Robotic Arm</p>
        </div>
    </a>
    

    
    <a href="/2023/10/22/PPG/">
        <div class="post-paging-next">
            <span>下一篇</span>
            <p>PPG</p>
        </div>
    </a>
    
</div>
</div>
		
<div class="footer">
	<div class="Copyright">
		©2023 By Xinxin.
	</div>
	<div class="contact">

	</div>
</div>

<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            transition: border .5s;
            border: 1px solid rgba(18, 24, 58, 0.06);

            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari 和 Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $( '#js-go_top' )
	.gotoTop( {
		offset: 500,
		speed: 300,
		animationShow: {
			'transform': 'translate(0,0)',
			'transition': 'transform .5s ease-in-out'
		},
		animationHide: {
			'transform': 'translate(100px,0)',
			'transition': 'transform .5s ease-in-out'
		}
	} );
</script>


    <!-- Gitalk -->
    <script>
        const data = '{"clientID":"02b3c","clientSecret":"adfc7b4","repo":"gimment","owner":"duneng","admin":"duneng"}'
        const gitalk = new Gitalk({
            ...JSON.parse( data),
            id:location.pathname,
            distractionFreeMode:false
        })
        
        if(Boolean('false')){
            gitalk.render('gitalk-container')
        }
    </script>

<script>
	console.log('\n %c Hexo-Quiet 主题 %c https://github.com/79e/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>
</html>

